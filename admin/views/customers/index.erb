<ul class="nav nav-tabs">
    <li class="active"> <%= link_to tag_icon(:list, pat(:list)), url(:customers, :index) %></li>
    <li> <%= link_to tag_icon(:plus, pat(:new)), url(:customers, :new) %></li>
</ul>

<div class="tabs-content">
    <div class="search-namespace">
        <% form_tag url(:customers, :index), { :method => :get } do %>
            <% %w[name sex mobile_phone company].each do |field| %>
                <div class="col-xs-3">
                    <%= label_tag mat(:customer, :"#{field}"), :class => 'control-label' %>
                    <div class="controls">
                        <% if field == 'sex' %>
                            <%= select_tag :sex, :options => [[], [t('male'), 'male'], [t('female'), 'female'], [t('other'), 'other']],
                                           :value => params[:sex], :class => 'form-control input-xlarge input-with-feedback' %>
                        <% else %>
                            <%= text_field_tag :"#{field}", { :value => params[:"#{field}"], :class => 'form-control' } %>
                        <% end %>
                    </div>
                </div>
            <% end %>

            <div class="clearfix"></div>

            <div class="form-actions modal-footer">
                <%= submit_tag pat(:search), :class => 'btn btn-primary' %>
            </div>
        <% end %>
    </div>

    <% if @customers.any? %>
        <table id="list" class="table table-striped table-hover table-condensed">
            <thead>
            <tr>
                <!-- dropdown -->
                <th class="header list-menu"><%= partial 'shared/dropdown' %></th>
                <!-- thead -->
                <th class="header"><%= mat(:customer, :id) %></th>
                <th class="header"><%= mat(:customer, :name) %></th>
                <th class="header"><%= mat(:customer, :mobile_phone) %></th>
                <th class="header"><%= mat(:customer, :email) %></th>
                <th class="header"><%= mat(:customer, :company) %></th>
                <th class="header"><%= mat(:customer, :website) %></th>
                <th class="header"><%= mat(:customer, :created_at) %></th>
                <th class="header list-row-action-header"></th>
            </tr>
            </thead>

            <tbody>
            <% @customers.each do |customer| %>
                <tr class="list-row">
                    <td class="list-column list-selectable">
                        <%= check_box_tag 'customer_ids[]', :value => customer.id, :class => 'list-selectable-checkbox' %>
                    </td>
                    <td class="list-column"><%= customer.id %></td>
                    <td class="list-column"><%= customer.name %></td>
                    <td class="list-column" style="white-space: nowrap;"><%= customer.mobile_phone %></td>
                    <td class="list-column"><%= customer.email %></td>
                    <td class="list-column"><%= customer.company %></td>
                    <td class="list-column"><%= customer.website %></td>
                    <td class="list-column"><%= customer.created_at.strftime('%F %T') %></td>
                    <td class="list-column list-row-action">
                        <div class='list-row-action-wrapper'>
                            <%= link_to tag_icon(:edit), :href => url(:customers, :edit, :id => customer.id), :rel => :tooltip, :title => "#{pat(:edit)} customer", :class => 'list-row-action-wrapper-link' %>
                            <%= link_to tag_icon('trash-o'), :rel => :tooltip, :title => "#{pat(:delete)} customer", :class => 'list-row-action-delete-one list-row-action-wrapper-link' %>
                            <div class="popover list-row-action-popover-delete-one left">
                                <div class=arrow> </div>
                                <h3 class=popover-title><%= pat(:delete, :model => 'customer') %></h3>
                                <div class=popover-content>
                                    <% form_tag url(:customers, :destroy, :id => customer.id), :method => :delete do %>
                                        <%= submit_tag pat(:delete), :class =>'list-row-action-popover-delete-one-btn btn btn-danger btn-small' %>
                                        <div class="btn btn-default btn-small cancel"><%= pat(:cancel) %></div>
                                    <% end %>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
            <% end %>
            </tbody>
        </table>
        <div align="center">
            <%= will_paginate @customers %>
        </div>
    <% else %>
        <div align="center" class="no-objects-found"><h3>Customers not found</h3></div>
    <% end %>
</div>
